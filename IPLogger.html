<!DOCTYPE html>
<html>
<head>
  <title>IP Logger with Firebase</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
<h3>Logging your IP...</h3>
<script>
  // Your Firebase config here:
const firebaseConfig = {
  apiKey: "AIzaSyBmeCiF-qqHkaM81Jq-whaxvz4zJ6Ni3R0",
  authDomain: "yachad-32fe3.firebaseapp.com",
  databaseURL: "https://yachad-32fe3-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "yachad-32fe3",
  storageBucket: "yachad-32fe3.firebasestorage.app",
  messagingSenderId: "720032034735",
  appId: "1:720032034735:web:cabedda1dc842420bbc95a",
  measurementId: "G-YH1NK3RHY3"
};

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // Fetch public IP from ipify
  fetch('https://api.ipify.org?format=json')
    .then(response => response.json())
    .then(data => {
      const ip = data.ip;
      const ua = navigator.userAgent;
      const time = new Date().toISOString();

      // Save to Firestore collection 'ipLogs'
      db.collection('ipLogs').add({
        ip: ip,
        userAgent: ua,
        timestamp: time
      }).then(() => {
        document.body.innerHTML = "<p>Your IP has been logged. Thanks!</p>";
      }).catch(err => {
        document.body.innerHTML = "<p>Error logging IP: " + err + "</p>";
      });
    });
</script>
</body>
</html>
